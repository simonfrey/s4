<html>

<head>
    <meta charset="utf-8" />
    <title> Simple Shamir's Secret Sharing (s4) - Run shamir's secret sharing locally in your browser</title>
    <meta http-equiv="Content-Security-Policy" content="default-src: 'self'; form-action: 'none'; connect-src: 'data'">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="css/bulma.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
</head>

<body>
    <section class="section">
        <div class="container">

            <h1 class="title">
                Simple Shamir's Secret Sharing (s4)
            </h1>
            <p class="subtitle">
                Share your secret with a cryptographically secure method. All running locally in your browser. Your
                secrets never leave your machine!
            </p>

            <p id="onOffline" class="has-text-danger">Your browser is online. Please disconnect from your network to use
                s4 in a safer way</p>
            <p id="onFile" class="has-text-danger"></p>

            <div class="tabs is-boxed" id="tabNav">
                <ul>
                    <li class="is-active"><a data-tab='encrypt' onClick="changeTab(this.dataset.tab)">Encrypt</a></li>
                    <li><a data-tab='decrypt' onClick="changeTab(this.dataset.tab)">Decrypt</a></li>
                    <li><a data-tab='info' onClick="changeTab(this.dataset.tab)">Info</a></li>
                </ul>
            </div>

            <div class="notification is-danger tab" style="display:none;" id="error">
                <button class="delete" onClick="setError('')"></button>
                <div id="errorText"></div>
            </div>

            <!-- ENCRYPT -->
            <div class="columns tab" id="encrypt" style="display: block;">
              <div class="column is-vertical">
                  <div class="columns is-horizontal is-vcentered">
                      <div class="column">
                          Minimum required shares: <input class="input" type="number" value="2" min="2" id="threshold" onChange="doEncrypt(this)" placeholder="Minimum required shares">
                      </div>
                      <div class="column ">
                          Shares: <input class="input" value="3" min="2" type="number" id="shares" onChange="doEncrypt(this)" placeholder="Shares">
                      </div>
                      <div class="column ">
                          <label class="checkbox">
                              <input type="checkbox" onChange="doEncrypt(this)" class="checkbox" id="useAES"> Use AES(256 bit) for data and
                              distribute key</label>
                      </div>
                  </div>
                  <div class="columns">
                      <div class="column">
                          <textarea class="textarea" id="input" onInput="doEncrypt(this)"
                              placeholder="Whatever message / binary data you want."></textarea>
                      </div>
                  </div>

                  <div class="columns is-horizontal" id="outputs">
                      <!-- OUTPUTS -->
                  </div>
              </div>
            </div>

            <!-- DECRYPT -->
            <div class="columns tab" style="display:none;" id="decrypt">
                <div class="column is-vertical">
                    <div class="columns is-horizontal">
                        <div class="column ">
                            Shares: <input class="input" id="decryptShares" value="2" min="2" type="number" onChange="doDecrypt()" placeholder="Shares">
                        </div>
                    </div>
                    <div class="columns is-horizontal" id="inputs">
                      <!-- INPUTS -->
                    </div>

                    <div class="columns">
                        <div class="column">
                            <textarea class="textarea" id="output" readonly placeholder="Your decrypted output"></textarea>
                        </div>
                    </div>
                </div>
            </div>

            <!-- INFO -->
            <div class="columns is-horizontal tab" style="display:none;" id="info">
              <div class="column">
                  <h3 class="subtitle">Videos</h3>
                  <p>The following youtube videos explain you more about <a
                          href="https://en.wikipedia.org/wiki/Shamir%27s_Secret_Sharing" target="_blank">Shamir's
                          Secret Sharing</a></p>
                  <ul>
                      <li><a href="https://www.youtube-nocookie.com/embed/TQ-DsEZBuQY" target="_blank">What is Key
                              Sharding? Shamirâ€™s Secret Sharing Explained</a> (<b>Easy</b>)</li>
                      <li><a href="https://www.youtube-nocookie.com/embed/rWPZoz0aux4" target="_blank">Shamir's Secret
                              Sharing - Solution and alternative to Lagrange</a> (<b>More in-depth</b>)</li>
                  </ul>
              </div>
              <div class="column ">
                  <h3 class="subtitle">About s4</h3>
                  <p>With <b>S</b>imple <b>S</b>hamir's <b>S</b>ecret <b>S</b>haring (s4) I want to provide you an
                      easy to use interface for this beautiful little piece of math.</p>
                  <p>s4 is open source and provided as it is. You can find the code on <a
                          href="https://github.com/simonfrey/s4/issues" target="_blank">Github</a> and this website
                      works completely offline. Save it to your computer (Ctrl+S) in order to not lose access to the
                      s4 in case this website will be down at any point in the future.</p>
                  <p> Please note that s4 is provided as it is and I do not take responsibility for any bugs. s4 is a
                      tiny layer around <a href="https://github.com/hashicorp/vault"
                          target="_blank">hashicorp vault shamir</a> and golangs <a
                          href="https://github.com/gtank/cryptopasta/blob/master/encrypt.go" target="_blank">AES
                          encryption</a>.</p>
                  <p>If you find any issues, please report them via <a href="https://github.com/simonfrey/s4/issues"
                          target="_blank">Github issues</a> and if you want to tip me for the work on this project,<a
                          href="https://simon-frey.com/tip" target="_blank"> feel free to do so !</a></p>
              </div>
          </div>

        </div>
    </section>

    <script src="js/wasmPayload.js"></script>
    <script src="js/patch_base64.js"></script>
    <script src="js/errors.js"></script>
    <script src="js/encrypt.js"></script>
    <script src="js/decrypt.js"></script>
    <script src="js/tabs.js"></script>
    <script src="js/wasm_exec.js"></script>
    <script src="js/loadWASM.js"></script>

</body>
</html>
